I"¨<p>A while ago I switched to XeLatex from Latex as it can do some amazing
things. One particularly cool thing is word counting from within the
document itself. This is great for paper abstracts! I got the code
from
<a href="http://robert.orzanna.de/2012/06/xelatex-word-count-inside-document.html">here</a>
(or possibly somewhere else with similar code â€“ it was a while ago!)
and tweaked it a bit to produce my <code class="language-plaintext highlighter-rouge">wordcounter</code> environment:</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="k">\usepackage</span><span class="p">{</span>xesearch<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>fontspec<span class="p">}</span>
<span class="k">\newcounter</span><span class="p">{</span>words<span class="p">}</span>
<span class="k">\makeatletter</span>

<span class="c">%% word counting environment</span>
<span class="k">\newenvironment</span><span class="p">{</span>wordcounter<span class="p">}{</span><span class="c">%</span>
<span class="k">\endgroup</span>
  <span class="k">\setcounter</span><span class="p">{</span>words<span class="p">}{</span>0<span class="p">}</span><span class="c">%</span>
<span class="k">\expandafter\ifx\csname</span> wordcount@xs@searchlist<span class="k">\endcsname\relax</span>
  <span class="k">\let\wordcount</span>@xs@searchlist<span class="k">\undefined</span>
  <span class="k">\SearchList</span>!<span class="p">{</span>wordcount<span class="p">}{</span><span class="k">\stepcounter</span><span class="p">{</span>words<span class="p">}}</span>
    <span class="p">{</span>a?,b?,c?,d?,e?,f?,g?,h?,i?,j?,k?,l?,m?,
    n?,o?,p?,q?,r?,s?,t?,u?,v?,w?,x?,y?,z?<span class="p">}</span>
  <span class="k">\UndoBoundary</span><span class="p">{</span>'<span class="p">}</span><span class="c">%</span>
  <span class="k">\SearchOrder</span><span class="p">{</span>p;<span class="p">}</span><span class="c">%</span>
  <span class="k">\else</span>
   <span class="k">\expandafter\StartSearching</span>
  <span class="k">\fi</span><span class="p">}{</span><span class="c">%</span>
  <span class="k">\StopSearching</span>

   <span class="k">\hspace*</span><span class="p">{</span><span class="k">\fill</span><span class="p">}</span>
   <span class="p">{</span>word count: <span class="k">\arabic</span><span class="p">{</span>words<span class="p">}</span> words<span class="p">}</span><span class="c">%</span>
<span class="k">\begingroup\expandafter\def\csname</span> @currenvir<span class="k">\endcsname</span><span class="p">{</span>wordcounter<span class="p">}</span><span class="c">%</span>
<span class="p">}</span>
<span class="k">\makeatother</span></code></pre></figure>

<p>Usage is very simple â€“ just wrap the part of the document that needs
to be word-counted in the <code class="language-plaintext highlighter-rouge">wordcounter</code> environment, and a message
will be inserted into the document after the text giving the word
count. For example</p>

<figure class="highlight"><pre><code class="language-latex" data-lang="latex"><span class="nt">\begin{wordcounter}</span>
    blah blah blah blah blah
<span class="nt">\end{wordcounter}</span></code></pre></figure>

:ET