I"§<p>I like having custom keyboard shortcuts to launch applications (mainly
terminals, emacs, and Google Chrome.) For <code class="language-plaintext highlighter-rouge">emacsclient</code> and the
<code class="language-plaintext highlighter-rouge">gnome-terminal</code>, it makes sense to open a new window each time the
keyboard shortcut is keyed. However, I find it annoying when a new
Chrome window opens each time I key the shortcut. Often, I really
would rather switch to the existing Chrome window and open a new
tab. With multiple desktops (especially in Gnome 3) I find that I end
up with Chrome windows on all of my desktops â€“ quite annoying!</p>

<p>This script deals with this problem:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#!/usr/bin/bash</span>

<span class="nb">test</span><span class="o">=</span><span class="sb">`</span>wmctrl <span class="nt">-l</span> | <span class="nb">grep</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="sb">`</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$test</span><span class="s2">"</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
    <span class="nv">$2</span>
<span class="k">fi
</span>wmctrl <span class="nt">-R</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span></code></pre></figure>

<p>I have named this <code class="language-plaintext highlighter-rouge">run_or_focus</code> as it checks to see if the application
has any open windows; if it does not, it will execute the application,
and if it does, the window will be moved to the current desktop and be
given focus. The script takes two arguments, the first being a search
string which appears in all window titles belonging to the application
windows. The second is the application name.</p>

<p>The keyboard shortcut command for Google Chrome is then</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">run_or_focus <span class="s2">"Google Chrome"</span> google-chrome</code></pre></figure>

<p>This works like a treat.</p>
:ET